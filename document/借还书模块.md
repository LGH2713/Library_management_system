## 借还书模块

### 借书信息表设计

**隶属角色：** 图书管理员
**表名：** lend_book
| 字段名 | 类型 | 约束 | 注释 |
| ----------- | -------- | ----------- | ----------- |
| lb_id | int | primary key auto_increment| 借书 ID |
| lb_b_id | int | foreign key | 借出书本 ID |
| lb_u_id | int | foreign key | 借书用户 ID |
| lb_deadline | datetime | not null | 还书期限 |
| lb_renew_count | tinyint | default(0) | 续借次数 |

### 借还书信息表

**表名：** return_book
| 字段名 | 类型 | 约束 | 注释 |
| ----------- | -------- | ----------- | ----------- |
| bb_id | int | foreign key | 借书 ID |
| bb_start_time | date | not null | 借书日期 |
| bb_deadline | datetime | foreign key | 还书期限 |
| bb_renew_count | tinyint | foreign key | 续借次数 |

#### sql 语句

```sql
create table if not exists borrow_books (
    bb_id int not null comment '借书ID',
    bb_time date not null  comment '借书起始时间',
    bb_deadline datetime not null comment '还书期限',
    bb_renew_count tinyint not null comment '续借次数',
    foreign key(bb_id) references book(b_id)
) engine = InnoDB default charset = utf8mb4;
```

### 异常还书表设计

**隶属角色：** 图书管理员
**表名：** exception_return_book

| 字段名  | 类型               | 约束        | 注释         |
| ------- | ------------------ | ----------- | ------------ |
| e_id    | int auto_increment | primary key | 异常 ID      |
| e_fine  | tinyint            | default     | 异常还书罚款 |
| e_lb_id | char(10)           | foreign key | 借书 ID      |

#### sql 语句

```sql
create table if not exists exception_return_book (
    e_id int auto_increment comment '异常ID',
    e_fine tinyint default 0 comment '异常还书罚款',
    e_lb_id char(10) not null comment '借书ID',
    foreign key(e_id) references lend_book(lb_id)
) engine = InnoDB default charset = utf8mb4;
```
